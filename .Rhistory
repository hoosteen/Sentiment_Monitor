install.library(XML)
install.libraries(XML)
library(XML)
install.packages(XML)
install.packages("XML")
library(RCurl)
library(XML)
theurl <- "http://en.wikipedia.org/wiki/Congressional_Black_Caucus#Members_of_the_caucus_during_the_113th_Congress"
webpage <- getURL(theurl)
webpage <- readLines(tc <- textConnection(webpage)); close(tc)
pagetree <- htmlTreeParse(webpage, error=function(...){})
body <- pagetree$children$html$children$body
divbodyContent <- body$children$div$children[[1]]$children$div$children[[4]]
tables <- divbodyContent$children[names(divbodyContent)=="table"]
tableclasses <- sapply(tables, function(x) x$attributes["class"])
thetable  <- tables[which(tableclasses=="wikitable sortable")]$table
headers <- thetable$children[[1]]$children
columnnames <- unname(sapply(headers, function(x) x$children$text$value))
content <- c()
for(i in 2:length(thetable$children))
{
tablerow <- thetable$children[[i]]$children
opponent <- tablerow[[1]]$children[[2]]$children$text$value
others <- unname(sapply(tablerow[-1], function(x) x$children$text$value))
content <- rbind(content, c(opponent, others))
}
as.data.frame(content)
colnames(content) <- columnnames
as.data.frame(content)
head(content)
setwd("~/GitHub/ShameVector")
searchresults.df <- do.call(rbind, lapply(BB, as.data.frame))
?match.names
??match.names
View(BB.keeps)
View(BB.score)
library("twitteR")
library("RCurl")
library("RColorBrewer")
library("tm")
library("wordcloud")
library("httpuv")
library("tm")
library("dplyr")
wydenSearch <- read.csv("~/GitHub/ShameVector/wydenSearch.csv")
View(wydenSearch)
require("tm")
searchresults <- wydenSearch
searchresults_list <- sapply(searchresults, function(x) x$getText)
??getText
searchresults_list <- sapply(searchresults, function(x))
searchresults_list <- sapply(searchresults, function(x) x$getText())
searchresults_corpus <- Corpus(VectorSource(searchresults))
View(searchresults_corpus)
searchresults_corpus <- tm_map(searchresults_corpus, tolower)
searchresults_corpus <- tm_map(searchresults_corpus, removePunctuation)
searchresults_corpus <- tm_map(searchresults_corpus, function(x) removeWords(x, stopwords()))
wordcloud(searchresults_corpus, scale=c(5,0.5), max.words=100,
random.order=FALSE, rot.per=0.35,
use.r.layout=FALSE, colors=brewer.pal(8, "Dark2"))
searchresults_list <- sapply(searchresults, function(x) x$getText())
searchresults_list <- sapply(searchresults, function(x) getText())
searchresults_list <- sapply(searchresults, function(x) x$getText())
searchresults_list <- sapply(searchresults, function(x) getText())
length(searchresults)
searchresults.df <- do.call(Rbind, lapply(searchresults, as.data.frame))
searchresults.df <- do.call(rbind, lapply(searchresults, as.data.frame))
searchresults.df <- tolower(searchresults.df)
searchresults.df <- searchresults
searchresults.df <- tolower(searchresults.df)
View(searchresults.df)
View(searchresults)
require(dplyr)
select(searchresults, text)
View(searchresults_corpus)
bad <- is.na(searchresults)
TPP[bad]
searchresults[bad]
View(searchresults)
searchresults$text <- gsub('[[:punct:]]', ' ', searchresults$text)
searchresult$text <- gsub('[[:cntrl:]]', '', searchresults$text)
searchresults$text <- gsub('[[:cntrl:]]', '', searchresults$text)
searchresults$text <- gsub('//d+', )
searchresults$text <- gsub('//d+', '', searchresults$text)
searchresults.text <- as.data.frame(searchresults$text)
searchresults.sn <- searchresults$screenName
searchresults_corpus <- Corpus(VectorSource(searchresults.text))
searchresults.text_stm <- tm_map(searchresults_corpus, stemDocument)
require(SnowballC)
searchresults.text_stm <- tm_map(searchresults_corpus, stemDocument)
